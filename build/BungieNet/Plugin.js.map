{"version":3,"sources":["../../src/BungieNet/Plugin.js"],"names":["Plugin","CookieJarMemoryPlugin","jar","eventName","e","Platform","events","frameBeforeSend","target","options","OAuthPlugin","accessToken","headers"],"mappings":"AAAA;;;;;;;;AAEA;;;;AACA;;;;;;;;;;;;AAEA;;;;;IAKqBA,M,GAEnB,kBAAc;AAAA;AAEb,C;;kBAJkBA,M;AAMpB;;AAEDA,OAAOC,qBAAP;AAAA;;AAEE,oBAAc;AAAA;;AAAA;;AAEZ,UAAKC,GAAL,GAAW,kBAAQA,GAAR,EAAX;AAFY;AAGb;;AALH;AAAA;AAAA,2BAOSC,SAPT,EAOoBC,CAPpB,EAOuB;AACnB,UAAGD,cAAc,oBAAUE,QAAV,CAAmBC,MAAnB,CAA0BC,eAA3C,EAA4D;AAC1DH,UAAEI,MAAF,CAASC,OAAT,CAAiBP,GAAjB,GAAuB,KAAKA,GAA5B;AACD;AACF;AAXH;;AAAA;AAAA,EAA6CF,MAA7C;;AAeAA,OAAOU,WAAP;AAAA;;AAEE,mBAAYC,WAAZ,EAAyB;AAAA;;AAAA;;AAEvB,WAAKA,WAAL,GAAmBA,WAAnB;AAFuB;AAGxB;;AALH;AAAA;AAAA,2BAOSR,SAPT,EAOoBC,CAPpB,EAOuB;AACnB,UAAGD,cAAc,oBAAUE,QAAV,CAAmBC,MAAnB,CAA0BC,eAA3C,EAA4D;AAC1DH,UAAEI,MAAF,CAASC,OAAT,CAAiBG,OAAjB,CAAyB,eAAzB,gBAAsD,KAAKD,WAA3D;AACD;AACF;AAXH;;AAAA;AAAA,EAAmCX,MAAnC","file":"Plugin.js","sourcesContent":["\"use strict\";\r\n\r\nimport request from \"request\";\r\nimport BungieNet from \"./BungieNet.js\";\r\n\r\n/**\r\n * Plugin base class for plugins. Each plugin MUST define an update method.\r\n *\r\n * void update( String: eventName, Array: args )\r\n */\r\nexport default class Plugin {\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n};\r\n\r\nPlugin.CookieJarMemoryPlugin = class extends Plugin {\r\n\r\n  constructor() {\r\n    super();\r\n    this.jar = request.jar();\r\n  }\r\n\r\n  update(eventName, e) {\r\n    if(eventName === BungieNet.Platform.events.frameBeforeSend) {\r\n      e.target.options.jar = this.jar;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nPlugin.OAuthPlugin = class extends Plugin {\r\n\r\n  constructor(accessToken) {\r\n    super();\r\n    this.accessToken = accessToken;\r\n  }\r\n\r\n  update(eventName, e) {\r\n    if(eventName === BungieNet.Platform.events.frameBeforeSend) {\r\n      e.target.options.headers[\"Authorization\"] = `Bearer ${this.accessToken}`;\r\n    }\r\n  }\r\n\r\n}\r\n"]}