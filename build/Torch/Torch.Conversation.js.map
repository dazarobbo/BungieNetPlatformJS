{"version":3,"sources":["../../src/Torch/Torch.Conversation.js"],"names":["Torch","Conversation","o","_data","_converted","Map","messages","_convert","Symbol","iterator","set","BigNumber","conversationId","moment","dateStarted","lastMessageId","lastMessageSent","lastRead","memberFromId","ownerEntityId","starter","targetMembershipId","body","get","isAutoResponse","isGlobal","isLocked","isRead","ownerEntityType","status","totalMessageCount"],"mappings":"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","file":"Torch.Conversation.js","sourcesContent":["/* globals Torch, moment */\r\nTorch.Conversation = class {\r\n\r\n  constructor(o = {}) {\r\n\r\n    /**\r\n     * Raw data from bungie.net\r\n     * @type {Object}\r\n     */\r\n    this._data = o;\r\n\r\n    /**\r\n     * Converted data\r\n     * @type {Map}\r\n     */\r\n    this._converted = new Map();\r\n\r\n    /**\r\n     * @type {Torch.Messsage[]}\r\n     */\r\n    this.messages = [];\r\n\r\n    this._convert();\r\n\r\n  }\r\n\r\n  *[Symbol.iterator]() {\r\n    yield* this.messages;\r\n  }\r\n\r\n  _convert() {\r\n\r\n    this._converted.set(\r\n      \"conversationId\",\r\n      new BigNumber(this._data.conversationId)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"dateStarted\",\r\n      moment(this._data.dateStarted)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"lastMessageId\",\r\n      new BigNumber(this._data.lastMessageId)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"lastMessageSent\",\r\n      moment(this._data.lastMessageSent)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"lastRead\",\r\n      moment(this._data.lastRead)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"memberFromId\",\r\n      new BigNumber(this._data.memberFromId)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"ownerEntityId\",\r\n      new BigNumber(this._data.ownerEntityId)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"starter\",\r\n      new BigNumber(this._data.starter)\r\n    );\r\n\r\n    this._converted.set(\r\n      \"targetMembershipId\",\r\n      new BigNumber(this._data.targetMembershipId)\r\n    );\r\n\r\n  }\r\n\r\n  /**\r\n   * @return {String}\r\n   */\r\n  get body() {\r\n    return this._data.body;\r\n  }\r\n\r\n  /**\r\n   * @return {BigNumber}\r\n   */\r\n  get conversationId() {\r\n    return this._converted.get(\"conversationId\");\r\n  }\r\n\r\n  /**\r\n   * @return {Moment}\r\n   */\r\n  get dateStarted() {\r\n    return this._converted.get(\"dateStarted\");\r\n  }\r\n\r\n  /**\r\n   * @return {Boolean}\r\n   */\r\n  get isAutoResponse() {\r\n    return this._data.isAutoResponse;\r\n  }\r\n\r\n  /**\r\n   * @return {Boolean}\r\n   */\r\n  get isGlobal() {\r\n    return this._data.isGlobal;\r\n  }\r\n\r\n  /**\r\n   * @return {Boolean}\r\n   */\r\n  get isLocked() {\r\n    return this._data.isLocked;\r\n  }\r\n\r\n  /**\r\n   * @return {Boolean}\r\n   */\r\n  get isRead() {\r\n    return this._data.isRead;\r\n  }\r\n\r\n  /**\r\n   * @return {BigNumber}\r\n   */\r\n  get lastMessageId() {\r\n    return this._converted.get(\"lastMessageId\");\r\n  }\r\n\r\n  /**\r\n   * @return {Moment}\r\n   */\r\n  get lastMessageSent() {\r\n    return this._converted.get(\"lastMessageSent\");\r\n  }\r\n\r\n  /**\r\n   * @return {Moment}\r\n   */\r\n  get lastRead() {\r\n    return this._converted.get(\"lastRead\");\r\n  }\r\n\r\n  /**\r\n   * @return {BigNumber}\r\n   */\r\n  get memberFromId() {\r\n    return this._converted.get(\"memberFromId\");\r\n  }\r\n\r\n  /**\r\n   * @return {BigNumber}\r\n   */\r\n  get ownerEntityId() {\r\n    return this._converted.get(\"ownerEntityId\");\r\n  }\r\n\r\n  /**\r\n   * @return {Number}\r\n   */\r\n  get ownerEntityType() {\r\n    return this._data.ownerEntityType;\r\n  }\r\n\r\n  /**\r\n   * @return {BigNumber}\r\n   */\r\n  get starter() {\r\n    return this._converted.get(\"starter\");\r\n  }\r\n\r\n  /**\r\n   * @return {Number}\r\n   */\r\n  get status() {\r\n    return this._data.status;\r\n  }\r\n\r\n  /**\r\n   * @return {BigNumber}\r\n   */\r\n  get targetMembershipId() {\r\n    return this._converted.get(\"targetMembershipId\");\r\n  }\r\n\r\n  /**\r\n   * @return {Number}\r\n   */\r\n  get totalMessageCount() {\r\n    return this._data.totalMessageCount;\r\n  }\r\n\r\n};\r\n"]}